<p>昨天晚上和今天早上的两封拒信，标志着从9月初开始的找工作进程基本结束。一
路走来，把各大公司都摸了个遍，到最后收获的却还是最初的两个公司：阿里和
亚马逊中国。既然已经不沾此事了，就可以把它们都拿出来说一说，以过去为镜，
总能看到一些东西。</p>

<p>按时间顺序，我面的公司有：</p>

<ol>
<li>豆瓣，笔试被拒</li>
<li>阿里巴巴集团，offer，杭州</li>
<li>亚马逊中国，offer，北京</li>
<li>百度，笔试被拒</li>
<li>搜狗，笔试被拒</li>
<li>Google中国，笔试被拒</li>
<li>腾讯，一面被拒</li>
<li>微软，面试被拒</li>
<li>Facebook，面试被拒</li>
</ol>

<h3>豆瓣</h3>

<p>豆瓣是找同学内推的，最最开始，大家都还没什么动静，我突然被豆瓣的文艺气
质吸引，想去试试。很快就收到了笔试的通知，是通过邮件发过来一套题，要求
在一小时内做完用邮件发回去。我觉得答得还可以，两个代码题我都编译运行过，
虽然后来想想还是有一些问题，但是也不至于直接被拒啊。不太明白…过了一段
时间我发邮件问HR是什么情况，他给了一个相当于没说的回复：有消息我会尽快
通知你。呃…我觉得这个着实是不厚道，豆瓣招的人也不太多吧，为什么不能认
真地对待每个应聘者。我想，相对于死无消息，大家都更喜欢收拒信吧：）</p>

<h3>阿里</h3>

<p>接下来是声势浩大的阿里的招聘。阿里在来之前就接受了无数的内推，几乎我们
学院每个同学都是被内推的，在它来之前已经确定了面试的时间。由于
[志龙][zhilong]哥在推荐的时候把我的手机号写成了那个被偷的移动号，我没
有收到面试通知短信，没有这个短信连宣讲会的门都进不去…还好当时
[振兴][zhengxing]哥挽着我的手直接跟HRMM推荐了我，她才让我进去。宣讲会
完了还进行了一个笔试，就两道题。我答得还算不错，第一题代码写成，第二题
给出了一个并不是最优的办法。当天晚上收到了面试的短信。</p>

<p>面试是在一天全部结束，由于面试的人太多，面试那天我观察了一下，每个同学
的平均等待时间是2个小时，我还算幸运，只等了大概一个半小时。两面，一面是
个支付宝的工程师，开始拿着简历挑他感兴趣的问，根据相关的背景出些难题。
我被问到的包括：个性化推荐技术，服务器集群，cache，大数据处理等。重点问
的是如何实现一个哈希表，如何让它线程安全，如何避免用锁。这个我之前在腾
讯实习的时候了解过相关的技术，算是答得还不错。后来他暗示我等二面。二面
是三个人，一个HR，一个是支付宝的技术经理，一个是阿里的老员工（第58号员
工），二面也问一些技术，但是更重要的是聊人生理想：）比如，你的偶像是谁？
你有没有特别铁的哥们？能体现你的执行的一件事情是什么？阿里和腾讯你会选
哪个？你在你们实验室排行第几？我说这个也没人排过，他说江湖嘛，是江湖就
一定有排行…我不是很谦虚地说数一数二吧：）阿里的人确实有些江湖气息，这个
从他们每个人的“花我”也可以看得出来。有些人说是“邪气”，我倒觉得挺好的。
二面聊得挺欢的，说到[宝哥][baoge]借钱给我买电脑的事情，我还有些自我感动…</p>

<p>当天晚上就收到电话了，第二天去酒店开个会，签了一个录用意向书。到了那里
才知道，哈尔滨就招了5个人，4个研究生和一个本科生。那天终面的面试官和HR
们都在，跟我们聊了聊阿里巴巴集团的现状，[隐农][yinnong]的一句话让我印
象深刻，他说：决定去哪个公司，我就考虑两点，一是给多少钱，二是进去之
后会不会把我做废了。我常用第二句话作为不去国企和研究所的坚实借口：）后
来我跟来自阿里云的面试官深入交流了一下，因为正好在此之前我在看redhat的
[openshift][openshift]，对云计算比较感兴趣。当时签的意向书是阿里云。前
天收到阿里云的HR电话，说了一下待遇和福利，加上我对杭州这个城市还是很有
好感的，已经有了一半的心思想云阿里了。</p>

<h3>亚马逊中国</h3>

<p>亚马逊中国一直是我最想去的公司，一是因为它是外企，有机会可以移民;二是因
为它不向微软那样，一定是用Windows;三是因为[陈皓][coolshell]。亚马逊的笔
试是在线编程测试，我开始没在意，以为还会有现场的笔试，所以在线测评做得
不好，没有收到面试通知。我一下就着急了：这可是我的第一志愿啊。于是毅然
决定去霸面。霸面没有直接被拒之门外，也没有很顺利。他把我们（我和
[小刚][gang]）的简历收了，然后说有面试安排会通知我们。</p>

<p>下午我在去华为面试的路上收到亚马逊的电话，于是直接弃了华为去了亚马逊面
试。两面：一面是HR加一个技术经理，也是先问了问简历，然后让在他的笔记本
上写代码，求一个链表的长度，我一开始说就是从头开始扫瞄到尾然后统计长度。
他说你还要考虑其他的情况，我反应过来，说可能有环是吧？他表示对的。现在
回过来看，跟微软和FB相比起来，这种面试真是太轻松了：允许你试错。后来我
比较快地把代码写了出来，他看了觉得挺满意的。接下来问了一个设计题，说亚
马逊的一些商品经常会打折，有的是直接打8折，有的是买3件以上打7折，等等。
要求设计一下这个系统应该怎么设计，把相关的类定义写出来。我想了想，应该
有订单类，物品类，折扣规则类，然后派生出具体的折扣规则类。订单在结算的
时候把所有折扣规则应用到订单里。他看了觉得还行。我继续说明如果折扣的规
则比较复杂的话，可以定义一门规则描述语言（DSL），像SQL那样，这样的话它
的描述能力就会更强。他也表示赞许。之后就是聊了些关于亚马逊的东西。有趣
的是，他们后来也问了一个跟阿里问的一样的问题：如果我们和腾讯都给你
offer，你会选择哪一家？我说“亚马逊是我的第一志愿”，这在当时来看是真心话。</p>

<p>二面主要是coding。一个较年轻的面试官，上来先客气了几句，然后就说了一个
题目，要求写代码编译调试。二面的题目是在线测试时的第二题。（十一的时候
我学了emacs和lisp才知道其实就是elisp里的表达式求值）我当时就没有做出来，
直接是0分。我也跟他说明了情况，他说那我们就换一个题，不会两次用同一个题
难住你的。我说不不，我的意思是我对这个题已经有足够的信心了。他说那好，
就这个题吧。我去霸面之前写了一个递归的版本，放在[gist][gist]上，他表示
不看那个，现在要我写一个非递归的。我开始构思用栈写一下，开始遇到一些问
题，后来我用了三个栈，硬是把程序写了再来，debug了一会儿之后大体是正确
了。他也觉得还算可以吧。我自己倒感觉不好，因为开始的问题耽误了一些时间，
开始有些紧张。变量名都想不出来，好几个<code>temp</code>。后来要走的时候我问他会不
会再去看我的代码，他说“肯定会的呀，我们来招聘一趟不容易，我们会考察每
一个合适的人”，然后我向他说明了变量名起得不好，他表示可以理解。</p>

<p>总体感觉亚马逊是个很节俭的公司，不像微软那样财大气粗。过了几天收到了亚
马逊的电话，这给了我莫大的安慰。因为那时正逢百度和搜狗双双在笔试阶段就
把我拒了，有些失落。还有是因为想起跟[国宝][guobao]说过的话，微软和亚马
逊各有一半的把握，他笑着说那不是稳了吗？两个都去不成的概率只有1/4。而
今终于等到了亚马逊。</p>

<h3>百度、搜狗、google中国</h3>

<p>这三个都是笔试未过，百度我一直不太喜欢，所以也没有去霸面，而搜狗我觉得
是个小公司，不是很想去，加上今年他招的人也确实太少了。google中国，确实
是我水平不够，准确地说，是ACM水平不够。</p>

<h3>腾讯</h3>

<p>我对腾讯一直很有好感，因为之前在那里实习的时候，觉得公司和人都还不错。
[abel][abel]，我当时实习的导师，曾经给了我莫大的鼓励。这次没有去腾讯一
是因为腾讯来得太晚了，二是因为我之前一直想的是去亚马逊。所以没有考虑去
腾讯了，但是腾讯的笔试和面试我还是去参加了，就像会一个老朋友一样。一面
是个soso的人，他看了看我的简历和我的笔试试卷（我看到是80分，算挺高的
了），大致问了问，了解到我曾去即通实习过。然后他直接就说：你知道我是哪
个部门的吗？我说不知道。他说：我是soso的，怎么样，感不感兴趣？我当时感
觉是不太喜欢去soso或者说不太想去他的部门的，于是我没有说肯定的话，而是
问了一下他的部门具体是做什么的，他大致说了一下，又问：怎么样，感不感兴
趣？还要不要继续下去？。我说这个我要考虑一下。然后气氛就有些尴尬了。最
后我说：这个现在就要回答吗？他说：那好吧，我们继续。然后问了三个题。我
答得一般，不是很好，但也不差。后来走的时候我因为感觉不是很好，特意主动
和他握了手…</p>

<p>出来之后我就已经感觉到不会有二面了，但是也不是特别失望，因为这个面试官
和soso对我并没有很大的吸引力。不过后来想想也确实是我的问题，既然我决定
去面试了，就要主动去争取这个职位，否则这对面试官也是一种不尊重。如果我
对这个部门不感兴趣，那也可以要求转到别的人那儿去面试。虽然对我来说去面
着玩玩并没有什么，但是这对面试官来说就不是什么好事儿了。</p>

<h3>微软</h3>

<p>这是我第一次面微软，本科的时候参加过一次笔试，但是没有得到面试通知。今
年实习生招聘的时候我没有网申，所以没机会参加笔试。这次我也确实是懈怠了，
准备得不够，导致面得不是很好。两面，一面先问了问一些基础知识和小题，然
后是写一个代码。小题有一个没答上来，代码是N个数中找中位数，用partition
的方法，我写得很利索，也没有问题。一面结束后到我问问题的时候，我问了面
试官在微软是不是大家都用Windows，他回答得很肯定：为什么不用Windows？有
什么事它干不了的吗？我有些较真，又问了句“是要求的吗”…</p>

<p>二面的气氛就有些紧张，刚开始的时候面试官让我用C++写一个上三角矩阵的类。
C++的语法我不太熟，导致我写的代码漏洞百出。后来又让写拷贝构造函数和运算
符重载，我也没完全写对。再后来要我说如何存储一个稀疏矩阵，我从naive的方
法说起，一直到后来的用哈希表存储，总算是说对了。但是这个过程却不是那么
舒服，微软的面试官跟别的不一样，<strong>他并不欣赏你能从naive慢慢地领悟到最优
的答案的过程，而是希望你think through之后再对他说</strong>。因此我有些受挫，因
为很多时候我把第一想法说出来之后他立马就不是很高兴地说“不对”。两面都感
觉出来，微软的面试官有些傲慢，他们似乎觉得自己高人一等，而希望面试者以
一种低微的姿态出现，比如当我说到我用ruby的时候他们就立马跳过。</p>

<p>回来之后我还是抱有挺大希望的，结果晚上12点左右收到了拒信，是HR发的邮件。
略有失望，尽管我一直不想去微软工作，但是拿到微软offer这样一件事情还是
挺值得吹牛的。收到拒信之后想想，其实还是自己做得不对，自己也不是多牛逼
的人，犯不上处处露锋芒，根本就不应该表现出对soso不感兴趣，不应该现在出
对Windows不爽。面试的时候当然面试者姿态要低一些，难道还要面试官求你去？</p>

<h3>facebook</h3>

<p>因为今年有个[学弟][ditsing]非常牛逼，拿到了去FB总部实习的offer，他去了
之后，就推荐了一些校友，我也去凑了一下热闹，结果还真收到FB的面试了。一
共面了三次，一面是HR，先来跟我聊聊基本情况，告诉我整个招聘的过程，告诉
我要注意的一些事项等等。对我来说，这也是为我的口语进行了一下热身。</p>

<p>一面是一个工程师，居然是中国人。问了我一道题：简单的正则表达式匹配。只
有<code>.</code>和<code>*</code>两种特殊符号，比如<code>ab*a</code>能匹配<code>aa</code>, <code>aba</code>, <code>abbba</code>等。我想了
想不知道该怎么做，后来他说我们先不考虑<code>*</code>，如果只有<code>.</code>的话该怎么做，并
让我把代码写出来。我写完之后他说你能写一个递归的版本吗？我用递归写了一
个。后来他说我们现在来考虑有<code>*</code>的情况，当遇到<code>*</code>时，分两种情况，一种是
消耗掉一个<code>b</code>，一种是不消耗。我恍然大悟，告诉他我知道了，然后他让我写
代码，我写的时候边界情况考虑得太复杂了，最后也没完全写对。面试结束的时
候用中文聊了聊，感觉他人还是很友好的，还给我留了邮箱，说有什么问题可以
找他。</p>

<p>本来我想可能已经没有下一面了，但是过了一周多收到邮件。这次还是个中国人，
但是应该是级别更高的人，因为他从头到尾都没有说过中文。这次做了两个题，
感觉比上次更好一些。第一个题是一个有序的数组被shift了，找出shift的那个
点。我其实是听说过有<code>O(log n)</code>的解法的，但是不知道具体怎么做，于是说了
一个<code>O(n)</code>的做法，写出代码之后，有些情况考虑得还是不够，但是大体是对的。
然后是第二题，一个大文件里存了一些整数，统计不同的整数的个数。我想到的
是用bitmap的方法，记录每个整数是否出现过，最后再统计不同整数出现的个数。
这个题答得很好。答完之后，面试官好像发现上个题里我的代码的问题，又回到
上一个题，挑出几个毛病。我改了改之后他说OK。面试结束时也聊了聊…</p>

<p>我感觉二面比一面好，满心期待会有on-site的面试，结果今天早上收到拒信。
唉…其实一面真的是面得不好，没有想到递归，经提示后写的代码也不是干净利
索。二面总体感觉好一些，但是第一题没有勇敢地去尝试<code>O(log n)</code>的解法。所
以失败也是意料之中。</p>

<h3>面试总结</h3>

<p>都面完了之后，发现一个另人不安的真相：我拿到的offer就是一开始的那两个，
后来就没有收获了。回想这段时间里的心态，就是<strong>懈怠＋自大</strong>，对于大部分
面试是持一种“不过也无所谓”的态度，而对facebook是一种“我不可能通得过”的
态度。太消极了…面微软败在C++语法下真是太狗了！</p>

<h3>去向</h3>

<p>只能从亚马逊中国和阿里云里面挑一个了，阿里给的待遇非常不错，而且杭州也
是我喜欢的城市，所以不出意外的话，我可能是要去杭州了。想起之前信誓旦旦
地说要去亚马逊然后移民，真是羞愧难当。因为发现自己竟是那样的不堪，犹犹
豫豫的人。</p>
